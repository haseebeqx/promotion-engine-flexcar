<div class="px-4 sm:px-6 lg:px-8">
  <!-- Header -->
  <div class="mb-8">
    <div class="md:flex md:items-center md:justify-between">
      <div class="flex-1 min-w-0">
        <h2 class="text-2xl font-bold leading-7 text-gray-900 sm:text-3xl sm:truncate">
          Admin Dashboard
        </h2>
        <p class="mt-1 text-sm text-gray-500">
          Manage your store's categories, brands, items, and promotions from this central location.
        </p>
      </div>
    </div>
  </div>

  <!-- Tab Navigation -->
  <div class="border-b border-gray-200 mb-6">
    <nav class="-mb-px flex space-x-8" aria-label="Tabs">
      <button class="tab-btn border-primary-500 text-primary-600 whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm" onclick="showTab('categories')">
        <i class="fas fa-folder mr-2"></i>Categories
      </button>
      <button class="tab-btn border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm" onclick="showTab('brands')">
        <i class="fas fa-tag mr-2"></i>Brands
      </button>
      <button class="tab-btn border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm" onclick="showTab('items')">
        <i class="fas fa-box mr-2"></i>Items
      </button>
      <button class="tab-btn border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm" onclick="showTab('promotions')">
        <i class="fas fa-percent mr-2"></i>Promotions
      </button>
    </nav>
  </div>

  <!-- Categories Tab -->
  <%= erb :'admin/_categories_tab' %>

  <!-- Brands Tab -->
  <%= erb :'admin/_brands_tab' %>

  <!-- Items Tab -->
  <%= erb :'admin/_items_tab' %>

  <!-- Promotions Tab -->
  <%= erb :'admin/_promotions_tab' %>
</div>

<script>
function showTab(tabName) {
  // Hide all tab contents
  const tabContents = document.querySelectorAll('.tab-content');
  tabContents.forEach(tab => {
    tab.classList.remove('active');
  });

  // Remove active class from all tab buttons and reset their styles
  const tabButtons = document.querySelectorAll('.tab-btn');
  tabButtons.forEach(btn => {
    btn.classList.remove('active');
    btn.classList.remove('border-primary-500', 'text-primary-600');
    btn.classList.add('border-transparent', 'text-gray-500');
  });

  // Show selected tab content
  document.getElementById(tabName + '-tab').classList.add('active');

  // Find and activate the correct tab button
  const activeButton = Array.from(tabButtons).find(btn =>
    btn.getAttribute('onclick').includes(`'${tabName}'`)
  );
  if (activeButton) {
    activeButton.classList.add('active');
    activeButton.classList.remove('border-transparent', 'text-gray-500');
    activeButton.classList.add('border-primary-500', 'text-primary-600');
  }
}

// Initialize with appropriate tab active
document.addEventListener('DOMContentLoaded', function() {
  // Check for tab parameter in URL
  const urlParams = new URLSearchParams(window.location.search);
  const activeTab = urlParams.get('tab') || 'categories';
  showTab(activeTab);
});
</script>
